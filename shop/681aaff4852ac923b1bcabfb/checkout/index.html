<html>

<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8">
  <!-- /Added by HTTrack -->
  <meta http-equiv="content-type" content="text/html;charset=UTF-8">

  <meta name="google" content="notranslate">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" type="image/jpg" href="./SN8gVgwk/logocheff-1.png">
  <title>Checkout</title>
  <link type="text/css" href="./css/delivry-25-1.css" rel="stylesheet">
  <script>
    window.googlePixelId = "6939e6eb93ad351dc55b7088";
    var a = document.createElement("script");
    a.setAttribute("async", "");
    a.setAttribute("defer", "");
    a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel-google.js");
    document.head.appendChild(a);
  </script>
  <script src="./scripts/utms/latest-1.js" data-utmify-prevent-xcod-sck="" data-utmify-prevent-subids="" async="" defer=""></script>
  <style type="text/css">
    h1,
    h2 {
      color: #EA1D2C;
    }

    header#topo .cover {
      background-color: #EA1D2C;
    }

    header#topo .info h1 {
      color: #EA1D2C;
    }

    header#topo .info .icones a {
      color: #EA1D2C;
      border-color: #EA1D2C;
    }

    header#topo .cover .logo {
      background: #EA1D2C;
    }

    header#topo #menuCategorias {
      background: #EA1D2C;
    }

    header#topo .categorias a {
      border-top-color: #EA1D2C;
    }

    footer {
      background: #EA1D2C;
    }

    footer#carrinho .container .icone span {
      color: #EA1D2C;
    }

    .btn,
    a.voltar,
    .btnSair,
    .btnFidelidade,
    .btnGoogle,
    .btnEmail,
    .btnSemCadastro {
      background: #EA1D2C;
    }

    .qtdeProduto i:hover {
      color: #EA1D2C;
    }

    .lista .item .col .nomeProduto {
      color: #EA1D2C;
    }

    main#lista .produtos .item a:hover {
      border: 2px solid #EA1D2C;
    }

    #pedido .entrega .radio label input[type="radio"]:checked,
    #pedido .entrega .radio label:hover {
      background: #EA1D2C;
    }

    #pedido .pagamentos input[type="radio"]:checked+label::before,
    #detalhesProduto .info2 .opcoes input[type="checkbox"]:checked+label::before,
    #pedido .trocarPontos input[type="checkbox"]:checked+label::before {
      background-color: #EA1D2C;
      border: 2px solid #EA1D2C;
    }

    .selecionado {
      border: 2px solid #EA1D2C;
    }

    #meuCarrinho button.fechar,
    #rastreamento .registro span.passou {
      background: #EA1D2C;
    }

    span.estoque i {
      color: #EA1D2C;
    }

    .produtos {
      gap: 20px !important;
    }

    footer {
      position: static;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 15px;
      flex-direction: column;
      margin-top: 50px !important;
    }

    .box span {
      background-color: #FF0000 !important;
    }

    input[type="radio"] {
      accent-color: #EA1D2C;
      width: 20px;
      height: 20px;
    }

    .freight {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 20px;
    }

    .opt {
      border-radius: 10px;
      border: 2px solid #EA1D2C;
      padding: 15px 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .opt-1 {
      display: flex;
      align-items: center;
      gap: 15px;
      ;
    }

    .opt-1-1 {
      display: flex;
      flex-direction: column;
    }

    .opt-1-1-span-1 {
      font-weight: bold;
    }

    .opt-1-1-span-2 {
      font-size: .8rem;
    }

    .containerFinalizar {
      margin-bottom: 30px !important;
    }

    .payment-area {
      margin: 10px;
      margin-top: 20px;
      border-radius: 20px;
    }

    .payment {
      margin-top: 20px;
      margin-block: 30px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .input {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .input input {
      padding: 8px;
      border-radius: 10px;
      border: 1px solid rgba(0, 0, 0, .3);
    }

    .reviews {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 40px;
    }

    .review {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 10px;
      border: 1px solid rgba(197, 197, 197, .5);
      border-radius: 10px;
      padding: 10px;
    }

    .review .r-top {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: bold;
    }

    .r-top img {
      width: 30px;
    }

    .review span {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .input-error {
      border: 1px solid red !important;
    }

    .input span {
      color: red;
      font-size: 10pt;
    }

    .product-name {
      font-size: 1rem;
      font-weight: bold;
    }

    .cart-product {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      padding: 5px;
      border: 1px solid #EA1D2C;
      border-radius: 5px;
    }

    .cart-product img {
      max-width: 80px;
      border-radius: 5px;
    }

    .c-p-01 {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .c-p-01 .info {
      display: flex;
      flex-direction: column;
      align-items: start;
      height: 100%;
    }

    .hidden {
      display: none !important;
    }

    .pay-btn {
      width: 100%;
      background-color: #077C22;
      margin-top: 30px !important;
    }

    #precoProduto {
      font-weight: bold;
      font-size: 18px;
      color: #077c22;
    }
  </style>
  <meta name="theme-color" content="#EA1D2C">
  <meta name="apple-mobile-web-app-capacity" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar" content="#EA1D2C">
  <meta name="apple-mobile-web-app-status-bar-style" content="#EA1D2C">
  <meta name="apple-mobile-web-app-title" content="Pague Menos">
  <script src="../npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="../icon?family=Material+Icons">
</head>

<body>
  <div id="opacidade" class="fechar"></div>
  <header id="topo">
    <div class="cover main" style="
            background-position: center;
            background-size: cover;
            background-image: url('./mVDwQN39/banner-237f7496-1.webp');
          ">
      <div class="logo" style="
              background-color: white !important;
              display: flex;
              align-items: center;
              justify-content: center;
            ">
        <img src="./SN8gVgwk/logocheff-1.png" style="width: 100%;">
      </div>
      <div class="borda"></div>
    </div>
  </header>

  <div class="payment-area">
    <div class="container containerFinalizar">
      <h2 style="width: 100%;text-align: center;" id="checkout-top">Finalize seu pedido</h2>
      <a class="voltar" href="../cart.html" title="Voltar"><i class="fa-solid fa-chevron-left"></i> VOLTAR</a>
      <div id="detalhesProduto">
        <div class="payment">
          <div class="input">
            <label for="nome">Nome completo <b>*</b></label>
            <input type="text" name="nome" id="nome" placeholder="Nome e Sobrenome" required="">
            <span></span>
          </div>
          <div class="input">
            <label for="telefone">Telefone <b>*</b></label>
            <input type="text" name="telefone" id="telefone" placeholder="Número com DDD" required="">
            <span></span>
          </div>
          <h3 style="width: 100%;text-align: start;">Dados da entrega</h3>
          <div class="input">
            <label for="cep">CEP <b>*</b></label>
            <input type="text" placeholder="12345-000" id="cep" name="cep" required="">
            <span></span>
          </div>
          <div class="input hidden">
            <label for="address">Endereço <b>*</b></label>
            <input type="text" placeholder="Rua, Avenida, Alameda" id="address" name="address" required="">
            <span></span>
          </div>
          <div class="input hidden">
            <label for="number">Número <b>*</b></label>
            <input type="text" placeholder="1234" id="number" name="number" required="">
            <span></span>
          </div>
          <div class="input hidden">
            <label for="complement">Complemento</label>
            <input type="text" placeholder="Apartamento e bloco" id="complement" name="complement">
          </div>
          <div class="input hidden">
            <label for="neighborhood">Bairro <b>*</b></label>
            <input type="text" placeholder="Centro" id="neighborhood" name="neighborhood" required="">
            <span></span>
          </div>
          <div class="input hidden">
            <label for="city">Cidade <b>*</b></label>
            <input type="text" placeholder="São Paulo" id="city" name="city" required="">
            <span></span>
          </div>
          <div class="input hidden">
            <label for="state">Estado <b>*</b></label>
            <input type="text" placeholder="São Paulo" id="state" name="state" required="">
            <span></span>
          </div>
          <input type="hidden" name="total_amount" id="total-amount" value="0">
          <div class="freight hidden">
            <label for="0-opt" class="opt" id="0">
              <div class="opt-1">
                <input type="radio" id="0-opt" name="opt" amount="0" checked="">
                <div class="opt-1-1">
                  <span class="opt-1-1-span-1">Entregar Agora</span>
                  <span class="opt-1-1-span-2">20 a 30 min</span>
                </div>
              </div>
              <span>Grátis</span>
            </label>
          </div>
          <script>
            let baseTotal = parseFloat('0');
            let optValue = 0;
            let orderBumpTotal = 0;
            let freight;

            try {
              freight = document.querySelector('input[name="opt"]').getAttribute('amount') || '';
            } catch { }

            function updateTotal() {
              const newTotal = baseTotal + optValue + orderBumpTotal;

              // Atualiza o texto visível
              document.getElementById('total-price').textContent = newTotal.toLocaleString('pt-BR', {
                style: 'currency',
                currency: 'BRL'
              });

              function floatToBRL(amount) {
                return new Intl.NumberFormat('pt-BR', {
                  style: 'currency',
                  currency: 'BRL'
                }).format(amount);
              }

              // Atualiza o input hidden com o valor numérico puro (sem formatação)
              document.getElementById('total-amount').value = floatToBRL(newTotal); // ou sem .toFixed se quiser float puro
            }

            document.querySelectorAll('[name="opt"]').forEach(el => {
              el.addEventListener('click', (e) => {
                const amount = parseFloat(e.target.getAttribute('amount'));
                freight = e.target.getAttribute('amount');
                optValue = amount;
                updateTotal();
              });
            });
          </script>
        </div>
        <script>
          let orderbumps = []
        </script>
        <div class="payment">
          <h3 style="width: 100%;text-align: start;margin-bottom: 10px;">Ofertas disponíveis:</h3>

          <script>
            // Adiciona um 'ouvinte' para o evento de carregamento do conteúdo da página
            document.addEventListener('DOMContentLoaded', function () {
              // Encontra o campo de input do CEP pelo seu ID
              const cepInput = document.getElementById('cep');

              // Adiciona um evento que dispara toda vez que o usuário digita algo no campo
              cepInput.addEventListener('input', function (e) {
                // Pega o valor atual do campo e remove tudo que não for número
                let value = e.target.value.replace(/\D/g, '');

                // Limita o valor a no máximo 8 dígitos
                value = value.substring(0, 8);

                // Se o valor tiver mais de 5 dígitos, adiciona o hífen
                if (value.length > 5) {
                  value = value.replace(/(\d{5})(\d)/, '$1-$2');
                }

                // Atualiza o valor no campo de input com a máscara aplicada
                e.target.value = value;
              });
            });
          </script>

          <label class="cart-product orderbump" for="orderbump-0">
            <div class="c-p-01">
              <div class="img">
                <img src="./d4cJNKJ0/1761874938117blob-1.webp">
              </div>
              <div class="info">
                <span class="product-name">Bolo de Pote Brigadeiro</span>
                <p>
                  R$
                  <span class="preco">8,00</span>
                </p>
              </div>
            </div>
            <div class="add">
              <input type="checkbox" id="orderbump-0" price="8.00" class="_orderbump" o-name="Bolo de Pote Brigadeiro" o-image="https://i.ibb.co/d4cJNKJ0/1761874938117blob.webp">
            </div>
          </label>
          <label class="cart-product orderbump" for="orderbump-1">
            <div class="c-p-01">
              <div class="img">
                <img src="./hqXP2qX/1761874938086blob-1.webp">
              </div>
              <div class="info">
                <span class="product-name">Bolo de Pote Prestígio</span>
                <p>
                  R$
                  <span class="preco">8,00</span>
                </p>
              </div>
            </div>
            <div class="add">
              <input type="checkbox" id="orderbump-1" price="8.00" class="_orderbump" o-name="Bolo de Pote Prestígio" o-image="https://i.ibb.co/hqXP2qX/1761874938086blob.webp">
            </div>
          </label>

          <script>
            function atualizarCarrinhoEInterface() {
              let carrinho = JSON.parse(localStorage.getItem('meuCarrinho')) || [];

              const orderbumpsAtivos = document.querySelectorAll('._orderbump:checked');

              carrinho = carrinho.filter(item => !(item.id && item.id.startsWith('orderbump-')));

              orderbumpsAtivos.forEach(checkbox => {
                carrinho.push({
                  id: checkbox.id,
                  nome: checkbox.getAttribute('o-name'),
                  preco: parseFloat(checkbox.getAttribute('price')).toFixed(2),
                  imagem: checkbox.getAttribute('o-image'),
                  quantidade: 1
                });
              });

              localStorage.setItem('meuCarrinho', JSON.stringify(carrinho));

              document.dispatchEvent(new CustomEvent('carrinhoAtualizado'));
            }

            document.querySelectorAll('._orderbump').forEach(checkbox => {
              checkbox.addEventListener('change', atualizarCarrinhoEInterface);
            });
          </script>
          <style>
            .orderbump {
              border-width: 2px !important;
            }

            .orderbump input[type="checkbox"] {
              accent-color: #ea1d2c;
              width: 20px;
              height: 20px;
            }

            .orderbump img {
              /* max-width: 100px !important; */

              max-width: 80px !important;
              min-width: 80px !important;
              min-height: 80px !important;
              max-height: 100px !important;

              object-fit: cover !important;
            }
          </style>

          <h3 style="width: 100%;text-align: start;margin-bottom: 10px;">Seu carrinho:</h3>
          <div id="checkout-cart-items" style="margin-bottom: 20px; border: 1px solid #eee; padding: 10px; border-radius: 5px;">
          </div>

          <hr style="margin-block: 20px;">
          <div id="precoProduto"> Total: <span id="total-price">R$&nbsp;0,00</span>
          </div>
          <button class="pay-btn btn adicionarProduto" id="generate-payment">Gerar PIX</button>
        </div>
        <script>
          let requested_cep = 0;
          document.getElementById('cep')
            .addEventListener('input', async e => {
              const { value } = e.target;

              if (value.length < 9) return;

              const set_data = (id, value) => {
                document.getElementById(id).closest('.input').classList.remove('hidden');
                document.getElementById(id).value = value;
              };

              const _error = () => {
                set_data('number', '');
                set_data('complement', '');

                set_data('neighborhood', '');
                set_data('city', '');
                set_data('state', '');
                set_data('address', '');
              }

              try {
                requested_cep = requested_cep + 1;
                const req = await fetch(
                  'https://viacep.com.br/ws/' + value.replace('-', '') + '/json/'
                );

                const res = await req.json();

                if (res.localidade) {
                  set_data('number', '');
                  set_data('complement', '');

                  set_data('neighborhood', res.bairro);
                  set_data('city', res.localidade);
                  set_data('state', res.uf);
                  set_data('address', res.logradouro);
                } else {
                  _error();
                }
              } catch {
                if (requested_cep < 2) {
                  _error();
                }
              }

              const freights = document.querySelector('.freight');
              freights.classList.remove('hidden');
            })
        </script>

        <div class="reviews">



          <div class="review">
            <div class="r-top">
              <img src="./reclameaqui-assets/libraries/header/images/logo-mobile-1.svg">
              <span>Reclame Aqui</span>
            </div>
            <p>
              O consumidor avaliou o atendimento dessa empresa como <b>ÓTIMO</b>. A nota média nos últimos 6 meses é
              <b>9.9/10</b>.
            </p>
          </div>


          <div class="review">
            <div class="r-top">
              <img src="./whitecheckout/cdn/business/VCB2G6B18/reviews/KStCsh2tKsKCF5daRrOAWdnMU4n83HbnnO5hXzJ7-1.jpg">
              <span>Ifood Parceiros</span>
            </div>
            <span>
              Empresa parceira verificada <img src="./images/verified-check-svgrepo-com-1.svg" width="20px">
            </span>
          </div>
          <div class="review">
            <div class="r-top">
              <img src="./whitecheckout/cdn/business/VCB2G6B18/reviews/iBmtS32flP0Ruibmk7H1L9rPavkkZ07LiYbUNWce-1.png">
              <span>ANVISA</span>
            </div>
            <p>
              Essa empresa possuí o selo de autorização para funcionamento <b>ANVISA</b>.
            </p>
          </div>



        </div>
        <script type="text/javascript" src="../js/jquery.js"></script>
        <script type="text/javascript" src="../js/deliveryProduto.js"></script>
        <footer>
          <b style="text-align: center;">Cheff Burguer</b>
          <span style="font-size: 11pt;font-weight: normal;text-align: center;">CNPJ: 37.XXX.253/0001-51</span>

          <div style="width: 100%; display: flex; align-items: center; justify-content: center;margin-top: 10px;">
            <a href="../terms.html" style="color: white;text-decoration: underline;font-size: 11pt;">
              Termos de Uso
              <br>
              Política de Privacidade
            </a>
          </div>
        </footer>
        <script src="./product-1.js"></script>
        <script src="../js/all.js" data-auto-replace-svg="nest" defer="" type="text/javascript"></script>
        <script type="text/javascript" src="../js/jquery-mask.js" defer=""></script>


        <script>
            // --- FUNÇÃO AUXILIAR PARA CORRIGIR PREÇOS ---
            // Transforma "R$ 29,90", "29.90", 29.90 ou "29,90" em número puro (29.90)
            function parseMonetaryValue(value) {
                if (!value) return 0;
                if (typeof value === 'number') return value;

                let str = String(value).replace('R$', '').trim();

                // Se tiver ponto e vírgula (Ex: 1.200,50), remove ponto de milhar
                if (str.includes('.') && str.includes(',')) {
                    str = str.replace(/\./g, ''); 
                }

                // Troca vírgula por ponto para o Javascript entender
                str = str.replace(',', '.');

                const number = parseFloat(str);
                return isNaN(number) ? 0 : number;
            }

            function executarRenderizacaoCheckout() {
                const checkoutCartItemsContainer = document.getElementById('checkout-cart-items');
                const paymentButton = document.getElementById('generate-payment');
                const totalPriceSpan = document.getElementById('total-price');
                const totalAmountInput = document.getElementById('total-amount');

                // 1. Carregar Carrinho Principal
                let carrinho = JSON.parse(localStorage.getItem('meuCarrinho')) || [];

                // Se estiver vazio, tenta recuperar do backup (items2) se existir
                if (carrinho.length === 0) {
                    console.warn("Carrinho vazio, verificando backup...");
                }

                let totalGeral = 0;

                // Limpa a área visual do carrinho
                if (checkoutCartItemsContainer) checkoutCartItemsContainer.innerHTML = '';

                // 2. Renderizar e Somar Itens do Carrinho
                carrinho.forEach(item => {
                    const preco = parseMonetaryValue(item.preco || item.unitPrice || 0);
                    const qtd = item.quantidade || item.quantity || 1;
                    const subtotal = preco * qtd;
                    totalGeral += subtotal;

                    if (checkoutCartItemsContainer) {
                        const itemDiv = document.createElement('div');
                        itemDiv.className = 'cart-product';
                        itemDiv.style.cssText = 'padding: 10px; border-bottom: 1px solid #eee; display:flex; justify-content:space-between; align-items:center;';
                        itemDiv.innerHTML = `
                            <div style="display:flex; align-items:center; gap:10px;">
                                <div style="background:#eee; width:40px; height:40px; border-radius:5px; overflow:hidden;">
                                    <img src="${item.imagem || 'https://placehold.co/50'}" style="width:100%; height:100%; object-fit:cover;">
                                </div>
                                <div>
                                    <div style="font-weight:bold; font-size:0.9rem;">${item.nome || item.title}</div>
                                    <div style="font-size:0.8rem; color:#666;">${qtd}x R$ ${preco.toFixed(2).replace('.', ',')}</div>
                                </div>
                            </div>
                            <div style="font-weight:bold; color:#333;">R$ ${subtotal.toFixed(2).replace('.', ',')}</div>
                        `;
                        checkoutCartItemsContainer.appendChild(itemDiv);
                    }
                });

                // 3. Somar Order Bumps (Os checkbox de Bolo de Pote, etc)
                const orderBumps = document.querySelectorAll('input[type="checkbox"]._orderbump:checked');
                orderBumps.forEach(bump => {
                    const precoBump = parseMonetaryValue(bump.getAttribute('price'));
                    totalGeral += precoBump;
                });

                // 4. Somar Frete (Se houver selecionado)
                const freteSelecionado = document.querySelector('input[name="opt"]:checked');
                if (freteSelecionado) {
                    const valorFrete = parseMonetaryValue(freteSelecionado.getAttribute('amount'));
                    totalGeral += valorFrete;
                }

                // 5. Atualizar Tela e Input Hidden
                if (totalPriceSpan) {
                    totalPriceSpan.textContent = totalGeral.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
                }
                if (totalAmountInput) {
                    totalAmountInput.value = totalGeral.toFixed(2); // Salva como 29.90 para a API
                }

                // 6. Liberar ou Bloquear Botão
                if (paymentButton) {
                    if (totalGeral > 0) {
                        paymentButton.removeAttribute('disabled');
                        paymentButton.textContent = "Gerar PIX";
                        paymentButton.style.opacity = "1";
                        paymentButton.style.cursor = "pointer";
                    } else {
                        paymentButton.setAttribute('disabled', 'true');
                        paymentButton.textContent = "Carrinho Vazio";
                        paymentButton.style.opacity = "0.5";
                        paymentButton.style.cursor = "not-allowed";
                    }
                }
            }

            // --- ESCUTADORES DE EVENTOS ---

            // Atualiza ao carregar a página
            document.addEventListener('DOMContentLoaded', executarRenderizacaoCheckout);

            // Atualiza se clicar em um Order Bump (Checkbox)
            document.querySelectorAll('._orderbump').forEach(el => {
                el.addEventListener('change', executarRenderizacaoCheckout);
            });

            // Atualiza se mudar o frete
            document.querySelectorAll('input[name="opt"]').forEach(el => {
                el.addEventListener('change', executarRenderizacaoCheckout);
            });

            // --- LÓGICA DO CLIQUE NO BOTÃO PAGAR ---
            const btnPagar = document.getElementById('generate-payment');
            if (btnPagar) {
                btnPagar.addEventListener('click', async (e) => {
                    e.preventDefault();

                    // Validação de Campos Obrigatórios
                    const nome = document.getElementById('nome')?.value;
                    const telefone = document.getElementById('telefone')?.value;
                    const totalAmount = document.getElementById('total-amount')?.value;

                    if (!nome || !telefone || parseFloat(totalAmount) <= 0) {
                        Swal.fire('Atenção', 'Preencha seus dados e verifique se há itens no carrinho.', 'warning');
                        return;
                    }

                    btnPagar.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processando...';
                    btnPagar.disabled = true;

                    try {
                        // Monta o carrinho final incluindo Order Bumps marcados
                        let carrinhoFinal = JSON.parse(localStorage.getItem('meuCarrinho')) || [];

                        document.querySelectorAll('input[type="checkbox"]._orderbump:checked').forEach(bump => {
                            carrinhoFinal.push({
                                nome: bump.getAttribute('o-name'),
                                preco: bump.getAttribute('price'),
                                quantidade: 1
                            });
                        });

                        const payload = {
                            customer: {
                                nome: nome,
                                telefone: telefone,
                                email: "cliente@loja.com",
                                cpf: "000.000.000-00" // Se tiver campo de CPF, pegue ele aqui
                            },
                            total: totalAmount, // Envia o float correto (ex: 29.90)
                            items: carrinhoFinal
                        };

                        console.log("Enviando Payload:", payload);

                        const response = await fetch('/api/generate-pix', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        const result = await response.json();

                        if (response.ok && result.success) {
                            const dataStr = encodeURIComponent(JSON.stringify(result));
                            window.location.href = `/payment/681aaff4852ac923b1bcabfb/682519bb15bf50c6ee011ebb/index.html?data=${dataStr}`;
                        } else {
                            throw new Error(result.message || "Erro ao gerar pagamento");
                        }

                    } catch (error) {
                        console.error(error);
                        btnPagar.innerHTML = "Tentar Novamente";
                        btnPagar.disabled = false;
                        Swal.fire('Erro', error.message, 'error');
                    }
                });
            }
        </script>
      </div>
    </div>
  </div>



        <script src="../js/sweetalert.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</body>

</html>